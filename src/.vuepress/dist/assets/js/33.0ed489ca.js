(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{313:function(t,s,a){"use strict";a.r(s);var e=a(14),r=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"fetch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fetch"}},[t._v("#")]),t._v(" Fetch")]),t._v(" "),s("p",[t._v("Isso documenta as partes polyfillable do padrão WHATWG Fetch. Veja Advertências para exceções notáveis.")]),t._v(" "),s("p",[t._v("Sinopse de uso (use os links de argumento para saber mais):")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("response")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// handle HTTP response")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// handle network error")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("br"),t._v("\nExemplo de uso mais abrangente:\n"),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("method")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'POST'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("body")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("headers")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'Content-Type'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'application/json'")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("credentials")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'same-origin'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("response")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("status "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//=> number 100–599")]),t._v("\n    response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("statusText "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//=> String")]),t._v("\n    response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("headers "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//=> Headers")]),t._v("\n    response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("url "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//=> String")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("text")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    error"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("message "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//=> String")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h2",{attrs:{id:"request"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#request"}},[t._v("#")]),t._v(" Request")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("Synopsis")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Request")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("Request representa uma requisição HTTP a ser executado via fetch (). Normalmente, uma requisição não precisa ser construída manualmente, pois é instanciada internamente quando fetch () é chamado.")]),t._v(" "),s("h3",{attrs:{id:"url-request-or-string"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#url-request-or-string"}},[t._v("#")]),t._v(" URL (Request or string)")]),t._v(" "),s("p",[t._v('A URL do recurso que está sendo buscado. Normalmente, este é um URL absoluto sem o componente host, por exemplo, "/path". Se o URL tiver o host de outro site, a solicitação será realizada de acordo com o CORS.')]),t._v(" "),s("p",[t._v("Qualquer objeto que não seja de Solicitação será convertido em uma String, possibilitando passar uma instância de URL, por exemplo.")]),t._v(" "),s("p",[t._v("Uma solicitação pode ser inicializada usando outra instância de Request no lugar da URL. Nesse caso, a URL e outras opções são herdadas do objeto Request fornecido.")]),t._v(" "),s("h2",{attrs:{id:"options"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#options"}},[t._v("#")]),t._v(" Options")]),t._v(" "),s("ul",[s("li",[t._v('method (String) - HTTP request method. Default: "GET"')]),t._v(" "),s("li",[t._v("body (String, body types) - HTTP request body")]),t._v(" "),s("li",[t._v("headers (Object, Headers) - Default: {}")]),t._v(" "),s("li",[t._v('credentials (String) - Authentication credentials mode. Default: "omit"\n'),s("ul",[s("li",[t._v('"omit" - don\'t include authentication credentials (e.g. cookies) in the request')]),t._v(" "),s("li",[t._v('"same-origin" - include credentials in requests to the same site')]),t._v(" "),s("li",[t._v('"include" - include credentials in requests to all sites')])])])]),t._v(" "),s("h3",{attrs:{id:"body-types"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#body-types"}},[t._v("#")]),t._v(" Body types")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Class")]),t._v(" "),s("th",[t._v("Default Content-Type")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("String")]),t._v(" "),s("td",[t._v("text/plain;charset=UTF-8")])]),t._v(" "),s("tr",[s("td",[t._v("URLSearchParams")]),t._v(" "),s("td",[t._v("application/x-www-form-urlencoded;charset=UTF-8")])]),t._v(" "),s("tr",[s("td",[t._v("FormData")]),t._v(" "),s("td",[t._v("multipart/form-data")])]),t._v(" "),s("tr",[s("td",[t._v("Blob")]),t._v(" "),s("td",[t._v("inherited from the blob.type property")])]),t._v(" "),s("tr",[s("td",[t._v("ArrayBuffer")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("TypedArray")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("DataView")]),t._v(" "),s("td")])])]),t._v(" "),s("p",[t._v("Outras estruturas de dados precisam ser codificadas previamente como um dos tipos acima. Por exemplo, JSON.stringify(data) pode ser usado para serializar uma estrutura de dados em uma sequência JSON.")]),t._v(" "),s("p",[t._v("Observe que os servidores HTTP geralmente exigem que as solicitações postadas com um corpo também especifiquem seu tipo por meio de um cabeçalho de solicitação Content-Type.")]),t._v(" "),s("h2",{attrs:{id:"response"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#response"}},[t._v("#")]),t._v(" Response")]),t._v(" "),s("p",[t._v("Response representa uma resposta HTTP do servidor. Normalmente, uma response não é construída manualmente, mas está disponível como argumento para o retorno de chamada prometido resolvido.")]),t._v(" "),s("h3",{attrs:{id:"properties"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#properties"}},[t._v("#")]),t._v(" Properties")]),t._v(" "),s("ul",[s("li",[t._v("status (number) - HTTP response code in the 100–599 range")]),t._v(" "),s("li",[t._v('statusText (String) - Status text as reported by the server, e.g. "Unauthorized"')]),t._v(" "),s("li",[t._v("ok (boolean) - True if status is HTTP 2xx")]),t._v(" "),s("li",[t._v("headers (Headers)")]),t._v(" "),s("li",[t._v("url (String)")])]),t._v(" "),s("h3",{attrs:{id:"body-methods"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#body-methods"}},[t._v("#")]),t._v(" Body methods")]),t._v(" "),s("p",[t._v("Cada um dos métodos para acessar o corpo da resposta retorna uma Promessa que será resolvida quando o tipo de dados associado estiver pronto.")]),t._v(" "),s("ul",[s("li",[t._v("text() - yields the response text as String")]),t._v(" "),s("li",[t._v("json() - yields the result of JSON.parse(responseText)")]),t._v(" "),s("li",[t._v("blob() - yields a Blob")]),t._v(" "),s("li",[t._v("arrayBuffer() - yields an ArrayBuffer")]),t._v(" "),s("li",[t._v("formData() - yields FormData that can be forwarded to another request")])]),t._v(" "),s("h3",{attrs:{id:"other-response-methods"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#other-response-methods"}},[t._v("#")]),t._v(" Other response methods")]),t._v(" "),s("ul",[s("li",[t._v("clone()")]),t._v(" "),s("li",[t._v("Response.error()")]),t._v(" "),s("li",[t._v("Response.redirect()")])]),t._v(" "),s("h2",{attrs:{id:"headers"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#headers"}},[t._v("#")]),t._v(" Headers")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("Synopsis")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Headers")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("hash"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("Headers representa um conjunto de cabeçalhos HTTP de request/response. Ele permite uma pesquisa sem distinção entre maiúsculas e minúsculas do cabeçalho por nome, além de mesclar vários valores de um único cabeçalho.")]),t._v(" "),s("h3",{attrs:{id:"methods"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#methods"}},[t._v("#")]),t._v(" Methods")]),t._v(" "),s("ul",[s("li",[t._v("has(name) (boolean)")]),t._v(" "),s("li",[t._v("get(name) (String)")]),t._v(" "),s("li",[t._v("set(name, value)")]),t._v(" "),s("li",[t._v("append(name, value)")]),t._v(" "),s("li",[t._v("delete(name)")]),t._v(" "),s("li",[t._v("forEach(function(value, name){ ... }, [thisContext])")])]),t._v(" "),s("h2",{attrs:{id:"error"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#error"}},[t._v("#")]),t._v(" Error")]),t._v(" "),s("p",[t._v("Se houver um erro de rede ou outro motivo pelo qual a solicitação HTTP não pôde ser atendida, a promessa fetch () será rejeitada com uma referência a esse erro.")]),t._v(" "),s("p",[t._v("Observe que a promessa não será rejeitada no caso de respostas do servidor HTTP 4xx ou 5xx. A promessa será resolvida como seria para o HTTP 2xx. Inspecione o número response.status no retorno de chamada resolvido para adicionar tratamento condicional de erros do servidor ao seu código.")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("response")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ok"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" response\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" error "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("statusText"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    error"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("response "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" response\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" error\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h2",{attrs:{id:"advertencias"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#advertencias"}},[t._v("#")]),t._v(" Advertências")]),t._v(" "),s("p",[t._v("O polyfill whatwg-fetch não é capaz nem tem como objetivo implementar todo o padrão WHATWG Fetch, já que alguns dos recursos padrão seriam não triviais ou de outro modo inviáveis. Exemplos notáveis ​​incluem:")]),t._v(" "),s("ul",[s("li",[t._v("Incapacidade de definir o modo de redirecionamento")]),t._v(" "),s("li",[t._v("Incapacidade de alterar a diretiva de cache")]),t._v(" "),s("li",[t._v("Incapacidade de desativar cookies da mesma origem")])])])}),[],!1,null,null,null);s.default=r.exports}}]);